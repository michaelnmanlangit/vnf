document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("filterToggle"),s=document.getElementById("filterDropdown");n&&s&&(n.addEventListener("click",function(t){t.preventDefault(),n.classList.toggle("active"),s.classList.toggle("active")}),document.addEventListener("click",function(t){!n.contains(t.target)&&!s.contains(t.target)&&(n.classList.remove("active"),s.classList.remove("active"))}),s.addEventListener("click",function(t){(t.target.tagName!=="BUTTON"||t.target.classList.contains("filter-reset"))&&t.stopPropagation()}));const c=document.querySelectorAll("th.sortable");c.forEach(t=>{t.addEventListener("click",function(){const p=this.getAttribute("data-column"),f=this.classList.contains("asc");c.forEach(h=>{h.classList.remove("asc","desc")});const r=f?"desc":"asc";this.classList.add(r);const i=document.querySelector('input[name="search"]').value,l=document.querySelector('input[name="department"]:checked').value,d=document.querySelector('input[name="status"]:checked').value,e=new URLSearchParams;i&&e.append("search",i),l&&e.append("department",l),d&&e.append("status",d),e.append("sort_column",p),e.append("sort_direction",r);const u=document.querySelector("table.employees-table"),g=u?u.getAttribute("data-route"):"/admin/employees";window.location.href=g+(e.toString()?"?"+e.toString():"")})});const o=new URLSearchParams(window.location.search),a=o.get("sort_column"),m=o.get("sort_direction");if(a){const t=document.querySelector(`th.sortable[data-column="${a}"]`);t&&t.classList.add(m||"asc")}});
