document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("filterToggle"),c=document.getElementById("filterDropdown");n&&c&&(n.addEventListener("click",function(t){t.preventDefault(),n.classList.toggle("active"),c.classList.toggle("active")}),document.addEventListener("click",function(t){!n.contains(t.target)&&!c.contains(t.target)&&(n.classList.remove("active"),c.classList.remove("active"))}),c.addEventListener("click",function(t){(t.target.tagName!=="BUTTON"||t.target.classList.contains("filter-reset"))&&t.stopPropagation()}));const o=document.querySelectorAll("th.sortable");o.forEach(t=>{t.addEventListener("click",function(){const g=this.getAttribute("data-column"),f=this.classList.contains("asc");o.forEach(v=>{v.classList.remove("asc","desc")});const r=f?"desc":"asc";this.classList.add(r);const i=document.querySelector('input[name="search"]').value,l=document.querySelector('input[name="category"]:checked').value,d=document.querySelector('input[name="status"]:checked').value,e=new URLSearchParams;i&&e.append("search",i),l&&e.append("category",l),d&&e.append("status",d),e.append("sort_column",g),e.append("sort_direction",r);const u=document.querySelector("table.inventory-table"),p=u?u.getAttribute("data-route"):"/admin/inventory";window.location.href=p+(e.toString()?"?"+e.toString():"")})});const s=new URLSearchParams(window.location.search),a=s.get("sort_column"),m=s.get("sort_direction");if(a){const t=document.querySelector(`th.sortable[data-column="${a}"]`);t&&t.classList.add(m||"asc")}});
