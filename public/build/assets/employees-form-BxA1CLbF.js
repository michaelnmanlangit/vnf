document.addEventListener("DOMContentLoaded",function(){const l=document.getElementById("imageInput"),c=document.getElementById("imagePreview");l&&l.addEventListener("change",function(r){const n=r.target.files[0];if(n){if(!n.type.startsWith("image/")){alert("Please select a valid image file (JPG, PNG, GIF)"),this.value="";return}if(n.size>2*1024*1024){alert("File size must be less than 2MB"),this.value="";return}const s=new FileReader;s.onload=function(a){c.innerHTML="";const e=document.createElement("img");e.src=a.target.result,e.style.width="100%",e.style.height="100%",e.style.objectFit="cover",c.appendChild(e)},s.readAsDataURL(n)}d()});const o=document.querySelector(".employee-form"),t=document.querySelector('button[onclick="showUpdateModal()"]');if(o&&t){let a=function(){const e=new FormData(o);let i=!1;for(let[u,m]of e.entries())if(n[u]!==m){i=!0;break}i?(t.disabled=!1,t.style.opacity="1",t.style.cursor="pointer"):(t.disabled=!0,t.style.opacity="0.5",t.style.cursor="not-allowed")};var d=a;const r=new FormData(o),n={};r.forEach((e,i)=>{n[i]=e}),t.disabled=!0,t.style.opacity="0.5",t.style.cursor="not-allowed",o.querySelectorAll("input, select, textarea").forEach(e=>{e.addEventListener("change",a),e.addEventListener("input",a)})}});
